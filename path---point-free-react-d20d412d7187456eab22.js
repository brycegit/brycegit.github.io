webpackJsonp([0xce57617ffb55],{520:function(n,s){n.exports={data:{site:{siteMetadata:{title:"Bryce's Blog",author:"Bryce Dooley"}},markdownRemark:{id:"/Users/brycedooley/Documents/blog/gatsby-blog/src/pages/point-free-react/index.md absPath of file >>> MarkdownRemark",html:'<p>This title is a bit of a play on words — I am definitely not advocating for writing code that has no purpose. Rather, pointless in this sense refers to point-free coding style.</p>\n<p>Point-free style (a.k.a. <a href="https://en.wikipedia.org/wiki/Tacit_programming">tacit programming</a>) is a functional programming concept, which basically means composing functions without needing to expose arguments. Here is a simple example:</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">addExclamationPoint</span> <span class="token operator">=</span> <span class="token punctuation">(</span>word<span class="token punctuation">)</span> <span class="token operator">=></span> word <span class="token operator">+</span> <span class="token string">\'!\'</span><span class="token punctuation">;</span>\n\n<span class="token comment">// This is NOT point-free because the argument (word) IS exposed</span>\n\n<span class="token punctuation">[</span><span class="token string">\'Woo\'</span><span class="token punctuation">,</span> <span class="token string">\'Woo\'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>\n  <span class="token punctuation">(</span>word<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">addExclamationPoint</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span> \n<span class="token comment">// ["Woo!", "Woo!"]</span>\n\n\n<span class="token comment">// This IS point-free because the arguments is NOT exposed</span>\n\n<span class="token punctuation">[</span><span class="token string">\'Woo\'</span><span class="token punctuation">,</span> <span class="token string">\'Woo\'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>addExclamationPoint<span class="token punctuation">)</span><span class="token punctuation">;</span> \n<span class="token comment">// ["Woo!", "Woo!"]</span></code></pre>\n      </div>\n<p>Now this may not seem like an extremely valuable concept up front, but let me show you how it can be used to write cleaner and more composable functions within React components.</p>\n<h2>Starting with a basic React component</h2>\n<p>To start, let’s say we have the following component, which is responsible for displaying data related to an ecommerce order.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">OrderDetailsContainer</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n\n  <span class="token function">getOrderDetails</span><span class="token punctuation">(</span>items<span class="token punctuation">,</span> userInfo<span class="token punctuation">,</span> coupons<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> tax <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">calculateTax</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">,</span> items<span class="token punctuation">,</span> coupons<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">const</span> totalCost<span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">calculateTotalCost</span><span class="token punctuation">(</span>total<span class="token punctuation">,</span> coupons<span class="token punctuation">,</span> userInfo<span class="token punctuation">,</span> tax<span class="token punctuation">)</span>\n    <span class="token keyword">const</span> shippingTime <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getShippingTime</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">,</span> totalCost<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">return</span> <span class="token punctuation">{</span>\n      shippingTime<span class="token punctuation">,</span>\n      totalCost\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function-variable function">calculateTax</span> <span class="token operator">=</span> <span class="token punctuation">(</span>userInfo<span class="token punctuation">,</span> items<span class="token punctuation">,</span> coupons<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> totalPreTax <span class="token operator">=</span> items<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>acc<span class="token punctuation">,</span> item<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> acc <span class="token operator">+=</span> item<span class="token punctuation">.</span>cost<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">const</span> couponDeduction <span class="token operator">=</span> coupons<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>acc<span class="token punctuation">,</span> coupon<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> acc <span class="token operator">+=</span> coupon<span class="token punctuation">.</span>amount<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">const</span> stateTaxPercent <span class="token operator">=</span> userInfo<span class="token punctuation">.</span>stateTaxPercent<span class="token punctuation">;</span>\n\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>totalPreTax <span class="token operator">-</span> couponDeduction<span class="token punctuation">)</span> <span class="token operator">*</span> stateTaxPercent<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function-variable function">calculateTotalCost</span> <span class="token operator">=</span> <span class="token punctuation">(</span>total<span class="token punctuation">,</span> coupons<span class="token punctuation">,</span> userInfo<span class="token punctuation">,</span> tax<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> subTotal <span class="token operator">=</span>  total <span class="token operator">-</span> coupons <span class="token operator">+</span> tax<span class="token punctuation">;</span>\n\n    <span class="token keyword">if</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span>goldMember<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> subTotal <span class="token operator">-</span> <span class="token punctuation">(</span>subTotal <span class="token operator">*</span> goldMember<span class="token punctuation">.</span>discount<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> subTotal<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function-variable function">getShippingTime</span> <span class="token operator">=</span> <span class="token punctuation">(</span>userInfo<span class="token punctuation">,</span> totalCost<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> utils<span class="token punctuation">.</span><span class="token function">calculateShippingTime</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span>zipCode<span class="token punctuation">,</span> totalCost<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> <span class="token punctuation">{</span> items<span class="token punctuation">,</span> userInfo<span class="token punctuation">,</span> coupons <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>\n    <span class="token keyword">const</span> orderDetails <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getOrderDetails</span><span class="token punctuation">(</span>items<span class="token punctuation">,</span> userInfo<span class="token punctuation">,</span> coupons<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">return</span> <span class="token operator">&lt;</span>OrderDetailsView <span class="token punctuation">{</span><span class="token operator">...</span>orderDetails<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>If you spend a minute looking at <use all functions>, you can probably get a sense of what is happening here. This is not a bad start at all — the functions are pure (given an input they will always return the same output), and therefore are easier to compose, and test, than functions with side effects.</p>\n<p>While this certainly gets the job done, I would argue that refactoring this to use point-free style will make it not only much more readable, but also much easier to adjust, and reuse, pieces of functionality.</p>\n<p>Another concept I’ll cover briefly is pipe and compose. If you’ve using functional libraries like Ramda or Lodash, you’re likely familiar with these. But if not, they are essentially helper functions that allow you to combine a series of functions, where one function’s output will because the input to the next function. Pipe will go through this process left-to-right (like sending something down a pipe), and compose right-to-left (as if you were nesting functions). </p>\n<p>Pipe and compose unlock the secret powers of point-free functions. In this example I’ll be using pipe.</p>\n<p>The first step I’d take in the refactor is adjusting the functions so that they all have the same input and output. This is will allow for much easier composition, since you don’t have to think about what each function is passing to the next. </p>\n<p>EXAMPLE</p>\n<p>Next, I’ll put these into a pipe function. You can get a pipe function from several functional libraries, but it’s actually pretty easy to write yourself:</p>\n<p>EXAMPLE</p>\n<p>Now here’s the fun part — since I know what the input and output of each function is I can remove the arguments! To me, the intent is much more clear without argument names getting in the way.</p>\n<p>Now that we have our composed function we can pass it inputs as needed:</p>\n<p>EXAMPLE</p>\n<p>Well that was fun — we are at the same place we were before, albeit with slightly more readable code. But the fun is not over… </p>\n<p>Let’s say we want to create a new function that does all of the same stuff, but also edits the error messages. If we had to make that change to the original version of the code, it might take some time to determine the best place to put that logic. </p>\n<p>But with our new composed function, we basically have a set of building blocks that we can add and remove as needed (a familiar concept to React developers for sure). So adding a function that edits errors messages is as easy as following the same input/output structure, and plugging it into the pipe.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code class="language-javascript">  <span class="token comment">// shippingCosts = (items, userInfo) => {</span>\n\n  <span class="token comment">// }</span>\n\n\n  <span class="token comment">// validateCoupons = (items, coupons) => {</span>\n\n  <span class="token comment">// }</span>\n \n    <span class="token comment">// const shippingCosts = this.shippingCosts(items, userInfo);</span>\n    <span class="token comment">// const validateCoupons = this.validateCoupons(items, coupons, total);</span></code></pre>\n      </div>\n<p>Lastly, because the intent of <function name> is clear at a quick glance, there is no need to keep all of the functions in the same file — instead we can move these to a utils file and really clean up our component code.</p>\n<p>I hope this will inspire you to use point-free coding style to write cleaner, more composable code in your applications. Thanks for reading.</p>\n<p>P.S. Here are some fantastic free resources for learning more about functional programming in javascript:</p>\n<p>func lite, frisbee, egghead, mkb?</p>',frontmatter:{title:"The benefits of pointless React code",date:"January 18, 2019"}}},pathContext:{slug:"/point-free-react/",previous:{fields:{slug:"/github-branch-replace/"},frontmatter:{title:"How to replace a git branch with a new codebase"}},next:null}}}});
//# sourceMappingURL=path---point-free-react-d20d412d7187456eab22.js.map